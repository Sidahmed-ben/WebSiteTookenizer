{"ast":null,"code":"/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nconst {\n  defaultContainer\n} = require('./container');\nclass Clonable {\n  /**\n   * Constructor of the class\n   * @param {object} settings\n   */\n  constructor() {\n    let settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let container = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultContainer;\n    this.container = settings.container || container;\n    this.applySettings(this, settings);\n  }\n  get logger() {\n    return this.container.get('logger');\n  }\n\n  /**\n   * Apply default settings to an object.\n   * @param {object} obj Target object.\n   * @param {object} settings Input settings.\n   */\n  applySettings(srcobj) {\n    let settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const obj = srcobj || {};\n    Object.keys(settings).forEach(key => {\n      if (obj[key] === undefined) {\n        obj[key] = settings[key];\n      }\n    });\n    return obj;\n  }\n  toJSON() {\n    const settings = this.jsonExport || {};\n    const result = {};\n    const keys = Object.keys(this);\n    for (let i = 0; i < keys.length; i += 1) {\n      const key = keys[i];\n      if (key !== 'jsonExport' && key !== 'jsonImport' && key !== 'container' && !key.startsWith('pipeline')) {\n        const fn = settings[key] === undefined ? true : settings[key];\n        if (typeof fn === 'function') {\n          const value = fn.bind(this)(result, this, key, this[key]);\n          if (value) {\n            result[key] = value;\n          }\n        } else if (typeof fn === 'boolean') {\n          if (fn) {\n            result[key] = this[key];\n            if (key === 'settings') {\n              delete result[key].container;\n            }\n          }\n        } else if (typeof fn === 'string') {\n          result[fn] = this[key];\n        }\n      }\n    }\n    return result;\n  }\n  fromJSON(json) {\n    const settings = this.jsonImport || {};\n    const keys = Object.keys(json);\n    for (let i = 0; i < keys.length; i += 1) {\n      const key = keys[i];\n      const fn = settings[key] === undefined ? true : settings[key];\n      if (typeof fn === 'function') {\n        const value = fn.bind(this)(this, json, key, json[key]);\n        if (value) {\n          this[key] = value;\n        }\n      } else if (typeof fn === 'boolean') {\n        if (fn) {\n          this[key] = json[key];\n        }\n      } else if (typeof fn === 'string') {\n        this[fn] = json[key];\n      }\n    }\n  }\n  objToValues(obj, srcKeys) {\n    const keys = srcKeys || Object.keys(obj);\n    const result = [];\n    for (let i = 0; i < keys.length; i += 1) {\n      result.push(obj[keys[i]]);\n    }\n    return result;\n  }\n  valuesToObj(values, keys) {\n    const result = {};\n    for (let i = 0; i < values.length; i += 1) {\n      result[keys[i]] = values[i];\n    }\n    return result;\n  }\n  getPipeline(tag) {\n    return this.container.getPipeline(tag);\n  }\n  async runPipeline(input, pipeline) {\n    return this.container.runPipeline(pipeline || this.pipeline, input, this);\n  }\n  use(item) {\n    this.container.use(item);\n  }\n}\nmodule.exports = Clonable;","map":{"version":3,"names":["defaultContainer","require","Clonable","constructor","settings","arguments","length","undefined","container","applySettings","logger","get","srcobj","obj","Object","keys","forEach","key","toJSON","jsonExport","result","i","startsWith","fn","value","bind","fromJSON","json","jsonImport","objToValues","srcKeys","push","valuesToObj","values","getPipeline","tag","runPipeline","input","pipeline","use","item","module","exports"],"sources":["/home/sidahmed/Bureau/Cours_Master_1/S2/Web/Partie2/MoteurRecherche/moteur-rech/node_modules/@nlpjs/core/src/clonable.js"],"sourcesContent":["/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nconst { defaultContainer } = require('./container');\n\nclass Clonable {\n  /**\n   * Constructor of the class\n   * @param {object} settings\n   */\n  constructor(settings = {}, container = defaultContainer) {\n    this.container = settings.container || container;\n    this.applySettings(this, settings);\n  }\n\n  get logger() {\n    return this.container.get('logger');\n  }\n\n  /**\n   * Apply default settings to an object.\n   * @param {object} obj Target object.\n   * @param {object} settings Input settings.\n   */\n  applySettings(srcobj, settings = {}) {\n    const obj = srcobj || {};\n    Object.keys(settings).forEach((key) => {\n      if (obj[key] === undefined) {\n        obj[key] = settings[key];\n      }\n    });\n    return obj;\n  }\n\n  toJSON() {\n    const settings = this.jsonExport || {};\n    const result = {};\n    const keys = Object.keys(this);\n    for (let i = 0; i < keys.length; i += 1) {\n      const key = keys[i];\n      if (\n        key !== 'jsonExport' &&\n        key !== 'jsonImport' &&\n        key !== 'container' &&\n        !key.startsWith('pipeline')\n      ) {\n        const fn = settings[key] === undefined ? true : settings[key];\n        if (typeof fn === 'function') {\n          const value = fn.bind(this)(result, this, key, this[key]);\n          if (value) {\n            result[key] = value;\n          }\n        } else if (typeof fn === 'boolean') {\n          if (fn) {\n            result[key] = this[key];\n            if (key === 'settings') {\n              delete result[key].container;\n            }\n          }\n        } else if (typeof fn === 'string') {\n          result[fn] = this[key];\n        }\n      }\n    }\n    return result;\n  }\n\n  fromJSON(json) {\n    const settings = this.jsonImport || {};\n    const keys = Object.keys(json);\n    for (let i = 0; i < keys.length; i += 1) {\n      const key = keys[i];\n      const fn = settings[key] === undefined ? true : settings[key];\n      if (typeof fn === 'function') {\n        const value = fn.bind(this)(this, json, key, json[key]);\n        if (value) {\n          this[key] = value;\n        }\n      } else if (typeof fn === 'boolean') {\n        if (fn) {\n          this[key] = json[key];\n        }\n      } else if (typeof fn === 'string') {\n        this[fn] = json[key];\n      }\n    }\n  }\n\n  objToValues(obj, srcKeys) {\n    const keys = srcKeys || Object.keys(obj);\n    const result = [];\n    for (let i = 0; i < keys.length; i += 1) {\n      result.push(obj[keys[i]]);\n    }\n    return result;\n  }\n\n  valuesToObj(values, keys) {\n    const result = {};\n    for (let i = 0; i < values.length; i += 1) {\n      result[keys[i]] = values[i];\n    }\n    return result;\n  }\n\n  getPipeline(tag) {\n    return this.container.getPipeline(tag);\n  }\n\n  async runPipeline(input, pipeline) {\n    return this.container.runPipeline(pipeline || this.pipeline, input, this);\n  }\n\n  use(item) {\n    this.container.use(item);\n  }\n}\n\nmodule.exports = Clonable;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}