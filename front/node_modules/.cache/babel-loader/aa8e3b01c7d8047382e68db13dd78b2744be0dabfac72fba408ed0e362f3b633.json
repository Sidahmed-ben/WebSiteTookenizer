{"ast":null,"code":"const filters = require('./filters');\nconst getPieceIndex = (pieces, position) => {\n  for (let i = 0; i < pieces.length; i++) {\n    const piece = pieces[i];\n    if (position <= piece.endPosition) {\n      return i;\n    }\n  }\n};\nconst filter = (text, shouldFilter) => {\n  if (!shouldFilter) {\n    return text;\n  }\n  const replacer = function (match) {\n    if (match.length === 1) {\n      const replaced = filters[match.charCodeAt(0)];\n      if (replaced === 0) {\n        return \"\";\n      } else {\n        return replaced;\n      }\n    } else if ((arguments.length <= 1 ? 0 : arguments.length - 1) === 2) {\n      return \"\";\n    } else if ((arguments.length <= 1 ? 0 : arguments.length - 1) === 3) {\n      return arguments.length <= 1 ? undefined : arguments[1];\n    }\n  };\n  const matcher = /(?:[\\x02\\x05\\x07\\x08\\x0a\\x0d\\u2018\\u2019\\u201c\\u201d\\u2002\\u2003\\u2012\\u2013\\u2014]|\\x13(?:[^\\x14]*\\x14)?([^\\x15]*)\\x15)/g;\n  return text.replace(matcher, replacer);\n};\nclass Document {\n  constructor() {\n    this.pieces = [];\n    this.bookmarks = {};\n    this.boundaries = {};\n  }\n  getTextRange(start, end) {\n    const {\n      pieces\n    } = this;\n    const startPiece = getPieceIndex(pieces, start);\n    const endPiece = getPieceIndex(pieces, end);\n    const result = [];\n    for (let i = startPiece, end1 = endPiece; i <= end1; i++) {\n      const piece = pieces[i];\n      const xstart = i === startPiece ? start - piece.position : 0;\n      const xend = i === endPiece ? end - piece.position : piece.endPosition;\n      result.push(piece.text.substring(xstart, xend));\n    }\n    return result.join(\"\");\n  }\n  getBody(shouldFilter) {\n    if (shouldFilter == null) {\n      shouldFilter = true;\n    }\n    const start = 0;\n    const string = this.getTextRange(start, start + this.boundaries.ccpText);\n    return filter(string, shouldFilter);\n  }\n  getFootnotes(shouldFilter) {\n    if (shouldFilter == null) {\n      shouldFilter = true;\n    }\n    const start = this.boundaries.ccpText;\n    const string = this.getTextRange(start, start + this.boundaries.ccpFtn);\n    return filter(string, shouldFilter);\n  }\n  getHeaders(shouldFilter) {\n    if (shouldFilter == null) {\n      shouldFilter = true;\n    }\n    const start = this.boundaries.ccpText + this.boundaries.ccpFtn;\n    const string = this.getTextRange(start, start + this.boundaries.ccpHdd);\n    return filter(string, shouldFilter);\n  }\n  getAnnotations(shouldFilter) {\n    if (shouldFilter == null) {\n      shouldFilter = true;\n    }\n    const start = this.boundaries.ccpText + this.boundaries.ccpFtn + this.boundaries.ccpHdd;\n    const string = this.getTextRange(start, start + this.boundaries.ccpAtn);\n    return filter(string, shouldFilter);\n  }\n  getEndnotes(shouldFilter) {\n    if (shouldFilter == null) {\n      shouldFilter = true;\n    }\n    const start = this.boundaries.ccpText + this.boundaries.ccpFtn + this.boundaries.ccpHdd + this.boundaries.ccpAtn;\n    const string = this.getTextRange(start, start + this.boundaries.ccpAtn + this.boundaries.ccpEdn);\n    return filter(string, shouldFilter);\n  }\n}\nmodule.exports = Document;","map":{"version":3,"names":["filters","require","getPieceIndex","pieces","position","i","length","piece","endPosition","filter","text","shouldFilter","replacer","match","replaced","charCodeAt","arguments","undefined","matcher","replace","Document","constructor","bookmarks","boundaries","getTextRange","start","end","startPiece","endPiece","result","end1","xstart","xend","push","substring","join","getBody","string","ccpText","getFootnotes","ccpFtn","getHeaders","ccpHdd","getAnnotations","ccpAtn","getEndnotes","ccpEdn","module","exports"],"sources":["/home/sidahmed/Bureau/Cours_Master_1/S2/Web/Partie2/MoteurRecherche/front/node_modules/word-extractor/lib/document.js"],"sourcesContent":["const filters =        require('./filters');\n\nconst getPieceIndex = (pieces, position) => {\n  for (let i = 0; i < pieces.length; i++) {\n    const piece = pieces[i];\n    if (position <= piece.endPosition) { \n      return i; \n    }\n  }\n};\n\nconst filter = (text, shouldFilter) => {\n  \n  if (!shouldFilter) { \n    return text; \n  }\n\n  const replacer = function(match, ...rest) {\n    if (match.length === 1) {\n      const replaced = filters[match.charCodeAt(0)];\n      if (replaced === 0) {\n        return \"\";\n      } else {\n        return replaced;\n      }\n    } else if (rest.length === 2) {\n      return \"\";\n    } else if (rest.length === 3) {\n      return rest[0];\n    }\n  };\n\n  const matcher = /(?:[\\x02\\x05\\x07\\x08\\x0a\\x0d\\u2018\\u2019\\u201c\\u201d\\u2002\\u2003\\u2012\\u2013\\u2014]|\\x13(?:[^\\x14]*\\x14)?([^\\x15]*)\\x15)/g;\n  return text.replace(matcher, replacer);\n};\n\nclass Document {\n\n  constructor() {\n    this.pieces = [];\n    this.bookmarks = {};\n    this.boundaries = {};\n  }\n\n  getTextRange(start, end) {\n    const { pieces } = this;\n    const startPiece = getPieceIndex(pieces, start);\n    const endPiece = getPieceIndex(pieces, end);\n    const result = [];\n    for (let i = startPiece, end1 = endPiece; i <= end1; i++) {\n      const piece = pieces[i];\n      const xstart = i === startPiece ? start - piece.position : 0;\n      const xend = i === endPiece ? end - piece.position : piece.endPosition;\n      result.push(piece.text.substring(xstart, xend));\n    }\n\n    return result.join(\"\");\n  }\n\n  getBody(shouldFilter) {\n    if (shouldFilter == null) { \n      shouldFilter = true; \n    }\n    const start = 0;\n    const string = this.getTextRange(start, start + this.boundaries.ccpText);\n    return filter(string, shouldFilter);\n  }\n\n\n  getFootnotes(shouldFilter) {\n    if (shouldFilter == null) { \n      shouldFilter = true; \n    }\n    const start = this.boundaries.ccpText;\n    const string = this.getTextRange(start, start + this.boundaries.ccpFtn);\n    return filter(string, shouldFilter);\n  }\n\n\n  getHeaders(shouldFilter) {\n    if (shouldFilter == null) { \n      shouldFilter = true; \n    }\n    const start = this.boundaries.ccpText + this.boundaries.ccpFtn;\n    const string = this.getTextRange(start, start + this.boundaries.ccpHdd);\n    return filter(string, shouldFilter);\n  }\n\n\n  getAnnotations(shouldFilter) {\n    if (shouldFilter == null) { \n      shouldFilter = true; \n    }\n    const start = this.boundaries.ccpText + this.boundaries.ccpFtn + this.boundaries.ccpHdd;\n    const string = this.getTextRange(start, start + this.boundaries.ccpAtn);\n    return filter(string, shouldFilter);\n  }\n\n\n  getEndnotes(shouldFilter) {\n    if (shouldFilter == null) { \n      shouldFilter = true; \n    }\n    const start = this.boundaries.ccpText + this.boundaries.ccpFtn + this.boundaries.ccpHdd + this.boundaries.ccpAtn;\n    const string = this.getTextRange(start, start + this.boundaries.ccpAtn + this.boundaries.ccpEdn);\n    return filter(string, shouldFilter);\n  }\n}\n\n\nmodule.exports = Document;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}